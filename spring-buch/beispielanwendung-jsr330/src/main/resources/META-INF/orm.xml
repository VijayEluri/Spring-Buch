<?xml version="1.0" encoding="UTF-8"?>
<entity-mappings xmlns="http://java.sun.com/xml/ns/persistence/orm"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://java.sun.com/xml/ns/persistence/orm http://java.sun.com/xml/ns/persistence/orm/orm_1_0.xsd"
	version="1.0">

	<!--=================================-->
	<!-- Persistence unit level metadata -->
	<!--=================================-->

	<persistence-unit-metadata>
		<xml-mapping-metadata-complete />
		<persistence-unit-defaults>
			<access>PROPERTY</access>
		</persistence-unit-defaults>
	</persistence-unit-metadata>

	<!--=============================-->
	<!-- Mapping file level metadata -->
	<!--=============================-->

	<package>de.spring_buch.businessobjects</package>

	<!--=========-->
	<!-- Queries -->
	<!--=========-->


	<!--=========================-->
	<!-- Abstract class mappings -->
	<!--=========================-->

	<!--=================-->
	<!-- Entity mappings -->
	<!--=================-->

	<entity class="Kunde">
		<table name="kunde" />
		<attributes>
			<id name="id">
				<generated-value strategy="AUTO" />
			</id>
			<basic name="vorname" />
			<basic name="name" />
			<basic name="kontostand" />
		</attributes>
	</entity>

	<entity class="Bestellung">
		<table name="bestellung" />
		<attributes>
			<id name="id">
				<generated-value strategy="AUTO" />
			</id>
			<many-to-one name="kunde">
				<join-column name="id_kunde" />
			</many-to-one>
			<one-to-many name="detail" target-entity="BestellPosition"
				fetch="EAGER">
				<cascade>
					<cascade-all />
				</cascade>
			</one-to-many>
		</attributes>
	</entity>

	<entity class="BestellPosition">
		<table name="bestellposition" />
		<attributes>
			<id name="id">
				<generated-value strategy="AUTO" />
			</id>
			<basic name="anzahl" />
			<many-to-one name="ware" />
		</attributes>
	</entity>

	<entity class="Ware">
		<table name="ware" />
		<attributes>
			<id name="id">
				<generated-value strategy="AUTO" />
			</id>
			<basic name="bezeichnung" />
			<basic name="preis" />
		</attributes>
	</entity>

</entity-mappings>
